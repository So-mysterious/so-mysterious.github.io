/* 定义CSS变量,用于全局样式控制 */
:root {
  /* 浅色主题的颜色变量 */
  --background-color: #d54747;    /* 页面背景色:白色 */
  --text-color: #333333;         /* 文字颜色:深灰色 */
  --sidebar-bg: #f5f5f5;         /* 侧边栏背景色:浅灰色 */
  --card-bg: #ffffff;            /* 卡片背景色:白色 */
  --border-color: #e0e0e0;       /* 边框颜色:浅灰色 */
  --link-color: #0066cc;         /* 链接颜色:蓝色 */
  --link-hover: #004499;         /* 链接悬停颜色:深蓝色 */
  --button-hover: #e0e0e0;       /* 按钮悬停颜色:灰色 */
  --switch-bg: #e0e0e0;          /* 开关背景色:灰色 */
  --lang-button-color: #333333;  /* 语言切换按钮颜色:深灰色 */
  
  /* 导航按钮间距变量,适配中英文 */
  --nav-btn-gap-zh: 2rem;        /* 中文按钮间距 */
  --nav-btn-gap-en: 3rem;        /* 英文按钮间距 */
}

/* 深色主题的颜色变量设置 */
[data-theme="dark"] {
  --background-color: #1a1a1a;    /* 页面背景色:深色 */
  --text-color: #ffffff;          /* 文字颜色:白色 */
  --sidebar-bg: #2d2d2d;          /* 侧边栏背景:深灰色 */
  --card-bg: #333333;             /* 卡片背景:深灰色 */
  --border-color: #404040;        /* 边框颜色:灰色 */
  --link-color: #66b3ff;          /* 链接颜色:浅蓝色 */
  --link-hover: #99ccff;          /* 链接悬停:更浅蓝色 */
  --button-hover: #505050;        /* 按钮悬停:较深灰色 */
  --switch-bg: #db6fdb;           /* 开关背景:紫色 */
  --lang-button-color: #ffffff;   /* 语言切换按钮颜色:白色 */
}

/* 基础样式设置 */
/* 设置全局字体、行高和边距 */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; /* 设置字体族 */
    line-height: 1.6; /* 设置行高为1.6倍 */
    margin: 0; /* 清除外边距 */
    padding: 0; /* 清除内边距 */
}

/* 页面布局容器 */
.container {
    display: flex; /* 使用flex布局 */
    min-height: 100vh; /* 最小高度为视口高度 */
}

/* 侧边栏样式 */
.sidebar {
    width: 200px; /* 固定宽度200px */
    background-color: var(--sidebar-bg); /* 使用变量设置背景色 */
    padding: 0; /* 清除内边距 */
    position: fixed; /* 固定定位 */
    height: 300vh; /* 设置高度为视口高度的3倍 */
    display: flex; /* 使用flex布局 */
    flex-direction: column; /* 垂直排列 */
    align-items: center; /* 水平居中对齐 */
    border-right: 1px solid var(--border-color); /* 添加右侧边框 */
}

/* 个人头像样式 */
.profile-photo {
    width: 150px; /* 设置宽度 */
    height: 150px; /* 设置高度 */
    margin: 1.5rem 0; /* 设置上下外边距 */
}

/* 头像图片样式 */
.profile-photo img {
    width: 100%; /* 宽度占满容器 */
    height: 100%; /* 高度占满容器 */
    border-radius: 50%; /* 圆形边框 */
    object-fit: cover; /* 图片填充方式 */
}

/* 社交链接区域样式 */
.social-links {
    display: flex; /* 使用flex布局 */
    flex-direction: column; /* 垂直排列 */
    gap: 1rem; /* 设置间距 */
    width: 80%; /* 设置宽度 */
    padding: 0 1rem; /* 设置左右内边距 */
    margin-top: 2rem; /* 设置上外边距 */
}

/* 单个社交链接样式 */
.social-link {
    display: flex; /* 使用flex布局 */
    align-items: center; /* 垂直居中对齐 */
    gap: 0.5rem; /* 设置间距 */
    text-decoration: none; /* 移除下划线 */
    color: var(--text-color); /* 使用变量设置文字颜色 */
    padding: 0.5rem; /* 设置内边距 */
    border-radius: 5px; /* 设置圆角 */
    transition: background-color 0.3s; /* 添加背景色过渡效果 */
    font-size: 0.9rem; /* 设置字体大小 */
    width: 80%; /* 设置宽度 */
    margin: 0 auto; /* 水平居中 */
}

/* 社交链接悬停效果 */
.social-link:hover {
    background-color: var(--button-hover); /* 使用变量设置悬停背景色 */
}

/* 邮箱提示框容器样式 */
.email-container {
    position: relative; /* 相对定位 */
}

/* 邮箱提示框显示效果 */
.email-container:hover .email-tooltip {
    visibility: visible; /* 显示提示框 */
    opacity: 1; /* 设置不透明 */
    transform: translateY(-50%) translateX(0); /* 平滑移入 */
}

/* 邮箱提示框样式 */
.email-tooltip {
    position: absolute ; /* 绝对定位 */
    left: 100%; /* 位于容器右侧 */
    top: 50%; /* 垂直居中 */
    transform: translateY(-50%) translateX(-20px); /* 初始位置偏移 */
    background-color: var(--card-bg); /* 使用变量设置背景色 */
    color: var(--text-color); /* 使用变量设置文字颜色 */
    padding: 10px; /* 设置内边距 */
    border-radius: 8px; /* 设置圆角 */
    margin-left: 10px; /* 设置左外边距 */
    white-space: nowrap; /* 文本不换行 */
    border: 1px solid var(--border-color); /* 添加边框 */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* 添加阴影 */
    visibility: hidden; /* 初始隐藏 */
    opacity: 0; /* 初始透明 */
    transition: all 0.3s ease; /* 添加过渡效果 */
}

/* 邮箱提示框箭头 */
.email-tooltip::before {
    content: '';
    position: absolute;
    left: -6px;
    top: 50%;
    transform: translateY(-50%);
    border-style: solid;
    border-width: 6px 6px 6px 0;
    border-color: transparent var(--border-color) transparent transparent;
}

/* ===== 主内容区域样式 ===== */
.main-content {
    margin-left: 180px;                /* 左侧外边距,为侧边栏留出空间 */
    width: calc(100% - 180px);         /* 宽度为视口宽度减去侧边栏宽度 */
    padding: 2rem;                     /* 内边距为2rem */
    margin-top: 50px;                  /* 为顶部导航栏留出空间 */
}

/* ===== 主题切换按钮样式 ===== */
.theme-toggle {
    display: flex;                     /* 使用flex布局 */
    align-items: center;               /* 垂直居中对齐 */
    gap: 10px;                         /* 元素间距10px */
    position: fixed;                   /* 固定定位 */
    top: 30px;                         /* 距顶部30px */
    right: 20px;                       /* 距右侧20px */
}

/* 语言切换按钮样式 */
.lang-button {
    position: fixed;               /* 固定定位 */
    top: 32px;                    /* 顶部距离 */
    right: 170px;                 /* 与主题切换按钮保持120px的距离 */
    display: flex;                /* 弹性布局 */
    cursor: pointer;              /* 鼠标指针样式 */
    color: var(--text-color);     /* 使用文字颜色变量 */
}

/* 开关按钮容器 */
.switch {
    position: relative;                /* 相对定位 */
    width: 50px;                       /* 宽度50px */
    height: 24px;                      /* 高度24px */
    background-color: var(--switch-bg);/* 使用变量设置背景色 */
    border-radius: 12px;               /* 圆角半径12px */
    cursor: pointer;                   /* 鼠标指针样式为手型 */
    display: flex;                     /* 使用flex布局 */
    align-items: center;               /* 垂直居中对齐 */
    justify-content: space-between;    /* 两端对齐 */
    padding: 2px;                      /* 内边距2px */
}

/* 开关按钮滑块 */
.circle {
    position: absolute;                /* 绝对定位 */
    width: 20px;                       /* 宽度20px */
    height: 20px;                      /* 高度20px */
    background-color: var(--card-bg);  /* 使用变量设置背景色 */
    border-radius: 50%;                /* 圆形边框 */
    transition: transform 0.3s ease;    /* 添加平滑过渡效果 */
}

/* 开关激活状态滑块位置 */
.switch.active .circle {
    transform: translateX(26px);        /* 滑块向右移动26px */
}

/* ===== 个人介绍区域样式 ===== */
.intro-section {
    display: flex;                      /* 使用flex布局 */
    gap: 2rem;                         /* 元素间距2rem */
    margin-bottom: 3rem;               /* 底部外边距3rem */
    padding: 20px;                     /* 内边距20px */
    border-radius: 8px;                /* 圆角半径8px */
    align-items: stretch;              /* 子元素拉伸对齐 */
}

/* 介绍文字区域 */
.intro-text {
    flex: 2;                           /* 占用2份空间 */
    display: flex;                     /* 使用flex布局 */
    flex-direction: column;            /* 垂直排列 */
    gap: 1rem;                         /* 元素间距1rem */
}

/* 介绍文字卡片 */
.intro-box {
    background-color: var(--card-bg);   /* 使用变量设置背景色 */
    padding: 1.5rem;                    /* 内边距1.5rem */
    border-radius: 10px;                /* 圆角半径10px */
    height: 100%;                       /* 高度100% */
}

/* 介绍卡片标题 */
.intro-box h2 {
    margin-bottom: 1rem;                /* 底部外边距1rem */
    color: var(--text-color);           /* 使用变量设置文字颜色 */
}

/* 个人照片区域 */
.intro-photo {
    flex: 1;                            /* 占用1份空间 */
    display: flex;                      /* 使用flex布局 */
    align-items: stretch;               /* 子元素拉伸对齐 */
    max-height: 100%;                   /* 最大高度100% */
}

/* 个人照片图片 */
.intro-photo img {
    width: 100%;                        /* 宽度100% */
    border-radius: 10px;                /* 圆角半径10px */
    object-fit: cover;                  /* 图片填充方式为覆盖 */
    height: 100%;                       /* 高度100% */
}

/* ===== 文章导航栏样式 ===== */
.article-nav {
    display: flex;                      /* 使用flex布局 */
    justify-content: center;            /* 水平居中对齐 */
    margin-bottom: 2rem;                /* 底部外边距2rem */
    width: 100%;                        /* 宽度100% */
    padding: 0 1rem;                    /* 左右内边距1rem */
    position: relative;                 /* 相对定位 */
}

/* 导航按钮样式 */
.nav-btn {
    flex: 1;                            /* 平均分配空间 */
    padding: 0.5rem 0;                  /* 上下内边距0.5rem */
    border: none;                       /* 无边框 */
    background: none;                   /* 无背景 */
    color: var(--text-color);           /* 使用变量设置文字颜色 */
    cursor: pointer;                    /* 鼠标指针样式为手型 */
    transition: all 0.3s;               /* 添加所有属性过渡效果 */
    font-size: 16px;                    /* 字体大小16px */
    position: relative;                 /* 相对定位 */
    text-align: center;                 /* 文字居中对齐 */
    min-width: 0;                       /* 最小宽度0 */
}

/* 导航按钮悬停效果 */
.nav-btn:hover {
    color: var(--link-hover);           /* 使用变量设置悬停文字颜色 */
}

/* 导航按钮悬停时显示下划线 */
.nav-btn::after {
    content: '';                        /* 添加空内容 */
    position: absolute;                 /* 绝对定位 */
    bottom: -8px;                       /* 底部间距增大到8px */
    left: 50%;                         /* 左侧50% */
    transform: translateX(-50%);        /* X轴平移-50% */
    width: 0;                          /* 初始宽度为0 */
    height: 2px;                       /* 高度2px */
    background-color: var(--link-hover); /* 使用变量设置下划线颜色 */
    transition: width 0.3s;             /* 添加宽度过渡效果 */
}

.nav-btn:hover::after {
    width: 80%;                        /* 悬停时下划线宽度为80% */
}

/* ===== 文章列表样式 ===== */
.articles {
    display: none;                      /* 默认隐藏 */
}

/* 全部文章显示 */
#all {
    display: block;                     /* 块级显示 */
}

/* 文章项目样式 */
.article-item {
    margin-bottom: 1.5rem;              /* 底部外边距1.5rem */
    padding-left: 3rem;                 /* 左侧内边距3rem */
}

/* 文章日期样式 */
.article-date {
    font-weight: bold;                  /* 字体加粗 */
    color: var(--text-color);           /* 使用变量设置文字颜色 */
    margin-bottom: 0.3rem;              /* 底部外边距0.3rem */
}

/* 文章标题样式 */
.article-title {
    font-size: 1.2rem;                  /* 字体大小1.2rem */
    color: var(--link-color);           /* 使用变量设置链接颜色 */
    text-decoration: none;              /* 无文本装饰 */
    transition: color 0.3s;             /* 添加颜色过渡效果 */
}

/* 文章标题悬停效果 */
.article-title:hover {
    color: var(--link-hover);           /* 使用变量设置悬停颜色 */
}

/* ===== 深色模式样式覆盖 ===== */
[data-theme="dark"] {
    background-color: var(--background-color);  /* 使用变量设置背景色 */
    color: var(--text-color);                  /* 使用变量设置文字颜色 */
}

[data-theme="dark"] .sidebar {
    background-color: var(--sidebar-bg);        /* 使用变量设置侧边栏背景色 */
}

[data-theme="dark"] .social-link {
    color: var(--text-color);                  /* 使用变量设置社交链接颜色 */
}

[data-theme="dark"] .intro-box {
    background-color: var(--card-bg);          /* 使用变量设置介绍卡片背景色 */
}

[data-theme="dark"] .article-title {
    color: var(--link-color);                  /* 使用变量设置文章标题颜色 */
}

/* ===== 顶部导航栏样式 ===== */
.top-nav {
    background-color: var(--sidebar-bg) !important;  /* 强制使用变量设置背景色 */
    position: fixed;                           /* 固定定位 */
    width: 100%;                              /* 宽度100% */
    z-index: 1000;                            /* 确保在最上层 */
    height: 50px;                             /* 固定高度50px */
}

/* 导航按钮间距调整 */
.nav-buttons {
    display: flex;                             /* 使用flex布局 */
    gap: var(--nav-btn-gap-zh);               /* 使用变量设置中文按钮间距 */
    margin-left: 1.5rem;                       /* 左侧外边距1.5rem */
}

/* 导航按钮悬停效果 */
.nav-buttons .nav-btn {
    position: relative;                        /* 相对定位 */
    padding-bottom: 5px;                       /* 底部内边距留出横线空间 */
}

.nav-buttons .nav-btn::after {
    content: '';                              /* 添加空内容 */
    position: absolute;                       /* 绝对定位 */
    bottom: -8px;                             /* 底部间距增大到8px */
    left: 50%;                               /* 左侧50% */
    transform: translateX(-50%);              /* X轴平移-50% */
    width: 0;                                /* 初始宽度为0 */
    height: 2px;                             /* 高度2px */
    background-color: var(--link-hover);      /* 使用变量设置下划线颜色 */
    transition: width 0.3s;                   /* 添加宽度过渡效果 */
}

.nav-buttons .nav-btn:hover::after {
    width: 150%;                             /* 悬停时宽度150%,略宽于按钮文字 */
}

/* 英文模式下的按钮间距 */
[data-lang="English"] .nav-buttons {
    gap: var(--nav-btn-gap-en);               /* 使用变量设置英文按钮间距 */
}

/* ===== 响应式布局样式 ===== */
@media screen and (max-width: 768px) {
    /* 容器样式调整 */
    .container {
        flex-direction: column;                /* 改为垂直排列 */
    }
    
    /* 侧边栏样式调整 */
    .sidebar {
        width: 100%;                          /* 宽度100% */
        height: auto;                         /* 高度自适应 */
        position: relative;                   /* 相对定位 */
        border-right: none;                   /* 移除右边框 */
        border-bottom: 1px solid var(--border-color);  /* 添加底部边框 */
        padding: 1rem 0;                      /* 上下内边距1rem */
    }
    
    /* 个人照片尺寸调整 */
    .profile-photo {
        width: 100px;                         /* 宽度100px */
        height: 100px;                        /* 高度100px */
    }
    
    /* 社交链接布局调整 */
    .social-links {
        flex-direction: row;                  /* 水平排列 */
        justify-content: center;              /* 水平居中对齐 */
        width: 100%;                          /* 宽度100% */
        margin-top: 1rem;                     /* 顶部外边距1rem */
    }
    
    /* 社交链接宽度调整 */
    .social-link {
        width: auto;                          /* 宽度自适应 */
    }
    
    /* 主内容区域调整 */
    .main-content {
        margin-left: 0;                       /* 移除左侧外边距 */
        width: 100%;                          /* 宽度100% */
        padding: 1rem;                        /* 内边距1rem */
    }
    
    /* 介绍区域布局调整 */
    .intro-section {
        flex-direction: column;               /* 改为垂直排列 */
        padding: 10px;                        /* 内边距10px */
    }
    
    /* 照片位置调整 */
    .intro-photo {
        order: -1;                            /* 移到最前面 */
    }
    
    /* 文章导航栏调整 */
    .article-nav {
        padding: 0 0.5rem;                    /* 左右内边距0.5rem */
    }
    
    /* 导航按钮字体调整 */
    .nav-btn {
        font-size: 14px;                      /* 字体大小14px */
    }
    
    /* 文章项目内边距调整 */
    .article-item {
        padding-left: 1rem;                   /* 左侧内边距1rem */
    }
    
    /* 顶部导航栏位置调整 */
    .top-nav {
        padding: 1rem !important;             /* 强制内边距1rem */
    }
    
    /* 主题切换按钮位置调整 */
    .theme-toggle {
        position: static;                     /* 取消固定定位 */
    }
}
